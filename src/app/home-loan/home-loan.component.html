<div class="container-fluid">
    <div class='panel panel-primary'>
      <div class='panel-heading'>
          <div class="row">
              <div class="col-md-10">
                    <h4>Customer Detials</h4>
              </div>
              <div class="col-md-1">
                    <button type="button" routerLink="/LoanIssue" class="form-control btn">Back</button>
              </div>
          </div>


      </div>
      <div class='panel-body' id="panel">
   
        <div class="row">
                <form  #form="ngForm" >
     <div class=" form-horizontal col-md-12">
         <div class="col-md-10">
        <div class="form-group">
			<label class="control-label col-sm-3" >Branch :</label>
                <div class="col-sm-3">
                        <select class="form-control"   name="BranchID"  [(ngModel)]="loandetail.BranchID" disabled>
                                <option *ngFor="let l of branch" value="{{l.BranchID}}">{{l.BranchName}}
                                 </option>                         
                                </select>
				</div>
				<label class="control-label col-sm-3" >Line :</label>
                <div class="col-sm-3">
                        <select class="form-control"  #lid="ngModel" [(ngModel)]="loandetail.LineID" name="LineID" disabled>
                                <option *ngFor="let i of Line" value="{{i.TalukID}}">{{i.TalukName}}
                                 </option>                         
                                </select>
				</div>
			</div><div class="form-group">
			<label class="control-label col-sm-3" >Area :</label>
                <div class="col-sm-3">
                        <select class="form-control" #aid="ngModel" [(ngModel)]="loandetail.AreaID" name="AreaID" disabled>
                                <option  *ngFor="let sa of Area" value="{{sa.AreaID}}">{{sa.AreaName}}
                                 </option>                         
                                </select>
				</div>
				<label class="control-label col-sm-3" >Sub Area :</label>
                <div class="col-sm-3">
                        <select class="form-control"  #sid="ngModel" [(ngModel)]="loandetail.SubAreaID"  name="SubAreaID" disabled>
                                <option *ngFor="let l of Sarea" value="{{l.TalukID}}">{{l.TalukName}}
                                 </option>                         
                                </select>
				</div>
			</div>
			<div class="form-group">
			<label class="control-label col-sm-3" >Hint-1 :</label>
                <div class="col-sm-3">
				<input type="text" class="form-control col-sm-4" name="hint1" [(ngModel)]="loandetail.Hint1" disabled>
				</div>
				<label class="control-label col-sm-3" >Hint-2 :</label>
                <div class="col-sm-3">
				<input type="text" class="form-control" name="hint2" [(ngModel)]="loandetail.Hint2" disabled>
				</div>
            </div>
        </div>
        <div class="col-md-2">
            <div class="form-group">                
                <div class="image-preview col-sm-10" >
                    <img [src]="imagePreview" class="col-sm-12" style="height: 150px;">
                </div>
            </div>
        </div>
		</div>
		<div class="form-horizontal col-md-6">
			<div class="form-group">
					<label class="control-label col-sm-3">Customer ID :</label>
					<div class="col-sm-3">
						<input type="text" class="form-control" name="customerId" [(ngModel)]="loandetail.CustomerID" disabled>
					</div>
			</div>
			<div class="form-group">
			<label class="control-label col-sm-3" >Customer Name :</label>
                <div class="col-sm-6">
				<input type="text" class="form-control col-sm-4" name="custName" [(ngModel)]="loandetail.CustName" disabled>
				</div>
				<label class="control-label col-sm-1" >Init:</label>
                <div class="col-sm-2 ">
				<input type="text" class="form-control" name="init" [(ngModel)]="loandetail.Initial" disabled>
				</div>
			</div>
			<div class="form-group">
			<label class="control-label col-sm-3" >Father Name :</label>
                <div class="col-sm-9 ">
				<input type="text" class="form-control" name="fatherName" [(ngModel)]="loandetail.FatherName"disabled>
				</div>
				
			</div>
			<div class="form-group">
			<label class="control-label col-sm-3" >Mother Name :</label>
                <div class="col-sm-9 ">
				<input type="text" class="form-control" name="motherName" [(ngModel)]="loandetail.MotherName" disabled>
				</div>		
			</div>
			<div class="form-group">
				<label class="control-label col-sm-3">Gender :</label>
				<div class="col-sm-3">
						<select class="form-control" name="gender" [(ngModel)]="loandetail.Gender" disabled>
							<option>Male</option>
							<option>Female</option>
						</select>
					</div>
				<label class="control-label col-sm-3">Marital Status :</label>
				<div class="col-sm-3">
						<select class="form-control" name="maritalStatus" [(ngModel)]="loandetail.MaritalStatus" disabled>
							<option>Married</option>
                            <option>Single</option>
                            <option>Other</option>
						</select>
					</div>
			</div>
			<div class="form-group">
					<label class="control-label col-sm-3">Spouse Name :</label>
					<div class="col-sm-9">
						<input type="text" class="form-control" name="spouseName" [(ngModel)]="loandetail.SpouseName" disabled>
					</div>
				</div>
			<div class="form-group">
				<label class="control-label col-sm-3">Resident Type:</label>
				<div class="col-sm-6">
						<select class="form-control" name="residentType" [(ngModel)]="loandetail.ResidentType" disabled>
							<option>Own</option>
                              <option>Rental</option>
                              <option>Agreement</option>
                              <option>Quarters</option>
						</select>
					</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-3">Communication Address :</label>
				<div class="col-sm-9">
					<textarea class="form-control" name="address" [(ngModel)]="loandetail.CommAddress" disabled></textarea>
				</div>
            </div>
            <div class="form-group">
                    <label class="control-label col-sm-3">Permanent Address:</label>
                    <div class="col-sm-9">
                        <textarea class="form-control" name="permanentAddr" [(ngModel)]="loandetail.PermAddress" disabled></textarea>
                    </div>
                </div>
			<div class="form-group">
				<label class="control-label col-sm-3">Contact No. :</label>
				<div class="col-sm-5">
					<input type="text" class="form-control" #contact1="ngModel" maxlength="11" minlength="11" name="contactNum1" [(ngModel)]="loandetail.CustContact1" disabled>
                    <div *ngIf="contact1.errors?.minlength  && formSubmit "
                    [ngClass]="'error'">
                   Contact must be 11 characters long
                    </div>
                </div>
				<div class="col-sm-4">
					<input type="text" class="form-control" #contact2="ngModel" maxlength="11" minlength="11" name="contactNum2" [(ngModel)]="loandetail.CustContact2" disabled>
                    <div *ngIf="contact2.errors?.minlength  && formSubmit "
                    [ngClass]="'error'">
                   Contact must be 11 characters long
                    </div>
                </div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-3">Occupation Type :</label>
				<div class="col-sm-3">
					<select class="form-control" name="occType" [(ngModel)]="loandetail.OccupationType" disabled>
						<option>Business</option>
                          <option>Salaried-Govt</option>
                          <option>Salaried-Private</option>
                          <option>Dialywages</option>
                          <option>Others</option>
					</select>
				</div>
				<label class="control-label col-sm-3">Occupation Detail :</label>
				<div class="col-sm-3">
					<input class="form-control" type="text" name="occDetail" [(ngModel)]="loandetail.OccupationDetail" disabled>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-3">Aadhar :</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" #Aadhar="ngModel" name="aadhar" disabled maxlength="16" minlength="16" [(ngModel)]="loandetail.CustAadhar">
                    <div *ngIf="Aadhar.errors?.minlength  && formSubmit "
                    [ngClass]="'error'">
                   Aadhar must be 16 characters long
                    </div>
                </div>
				
				<div class="col-sm-3">
				<button type="button" class="form-control btn btn-primary" data-toggle="modal" data-target="#CustProof" >ID Proof </button>
				</div>
			</div>
				</div>
	<div class="form-horizontal col-md-6">
		<div class="form-group">
			<label class="control-label col-sm-3">Guarantor Name :</label>
			<div class="col-sm-7">
				<input class="form-control" type="text" name="guarantorName" [(ngModel)]="loandetail.GuarantorName" disabled>
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-sm-3">Relationship :</label>
			<div class="col-sm-3">
				<select class="form-control" name="relation" [(ngModel)]="loandetail.Relationship" disabled>
					<option>Father</option>
                                    <option>Mother</option>
                                    <option>Son</option>
                                    <option>Daughter</option>
                                    <option>Husband</option>
                                    <option>Wife</option>
                                    <option>Brother</option>
                                    <option>Sister</option>
                                    <option>Friend</option>
                                    <option>Uncle</option>
                                    <option>Aunty</option>
                                    <option>Brother in Law</option>
                                    <option>Sister in Law</option>
                                    <option>Son in Law</option>
                                    <option>Daughter in Law</option>
                                    <option>Father in Law</option>
                                    <option>Mother in Law</option>
                                    <option>Cousin</option>
				</select>
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-sm-3">Resident Type:</label>
			<div class="col-sm-7">
			<select class="form-control" name="guarantorResType" [(ngModel)]="loandetail.GResidentType" disabled>
				<option>Own</option>
                              <option>Rental</option>
                              <option>Agreement</option>
                              <option>Quarters</option>
			</select>
			</div>
		</div>
		<div class="form-group">
				<label class="control-label col-sm-3">Communication Address :</label>
				<div class="col-sm-7">
					<textarea class="form-control" name="gaddress" [(ngModel)]="loandetail.GAddress" disabled></textarea>
				</div>
            </div>
            <div class="form-group">
                    <label class="control-label col-sm-3">Permanent Address:</label>
                    <div class="col-sm-7">
                        <textarea class="form-control" name="gpermanentAddr" [(ngModel)]="loandetail.GPermAddress" disabled></textarea>
                    </div>
                </div>
			<div class="form-group">
				<label class="control-label col-sm-3">Contact No. :</label>
				<div class="col-sm-4">
					<input type="text" class="form-control" disabled #contact3="ngModel" maxlength="11" minlength="11" name="gcontactNum1" [(ngModel)]="loandetail.GContactNum1">
                    <div *ngIf="contact3.errors?.minlength  && formSubmit "
                    [ngClass]="'error'">
                   Contact must be 11 characters long
                    </div>
                </div>
				<div class="col-sm-3">
					<input type="text" class="form-control" disabled #contact4="ngModel" maxlength="11" minlength="11" name="gcontactNum2" [(ngModel)]="loandetail.GContactNum2">
                    <div *ngIf="contact4.errors?.minlength  && formSubmit "
                    [ngClass]="'error'">
                   Contact must be 11 characters long
                    </div>
                </div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-3">Aadhar :</label>
				<div class="col-sm-4">
					<input type="text" class="form-control" disabled #GAadhar="ngModel" maxlength="16" minlength="16" name="Gaadhar" [(ngModel)]="loandetail.GAadhar"> 
                    <div *ngIf="GAadhar.errors?.minlength  && formSubmit "
                    [ngClass]="'error'">
                   Aadhar must be 16 characters long
                    </div>
                </div>
				<div class="col-sm-3">
				<button type="button" class="form-control btn btn-primary" data-toggle="modal" data-target="#GuarnProof">ID Proof </button>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-3">Customer Status :</label>
				<div class="col-sm-4">
					<select class="form-control" name="custStatus" [(ngModel)]="loandetail.CustStatus" disabled>
                        <option >Request</option>
                        <option>Approved</option>        
                         <option>Cancel</option>
                         <option>Waitlist</option>
                         <option>Revoked</option>
                         <option>Running</option>
                         <option>End</option>
                         <option>Closed</option>
                         
					</select>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-3">Remarks :</label>
				<div class="col-sm-7">
					<textarea name="remarks" class="form-control"rows="4" cols="30" [(ngModel)]="loandetail.CustRemarks" disabled></textarea>
				</div>
            </div>
            <div class="emptyDiv"></div>
            <div class="emptyDiv"><div class="col-md-3"><button data-toggle="modal" data-target="#myModal" (click)="getLoanDetail(0,form)" [disabled]="Status!='Approved'" type="submit" class="btn btn-primary">Issue Loan</button></div> </div>
      </div>
    </form>
      <div class="form-horizontal col-md-12 tab-content">
             <div class="table table-responsive">
             <table class="table table-bordered table-striped table-hover">
             <thead>
             <tr>
             <th class="col-md-1">S.No</th>
              <th class="col-md-1">Loan No</th>
              <th class="col-md-2">Loan Category</th>
              <th class="col-md-2">Agent Name</th>
              <th class="col-md-2">Loan Date</th>
              <th class="col-md-2">Loan Amount</th>
             <th class="col-md-2">Status</th>
             </tr>
             </thead>
             <tbody>
             <tr data-toggle="modal" data-target="#myModal" *ngFor="let lo of loanCust" (click)="getLoanDetail(lo.LoanID,form)">
             <td class="col-md-1">{{lo.CustomerID}}</td>
             <td class="col-md-1">{{lo.LoanNo}}</td>
             <td class="col-md-2">
                <select class="form-control" disabled>
                    <option *ngFor="let sa of LoanCategory"  value="{{sa.dropdownKey}}" [selected]="lo.LoanCatID==sa.dropdownKey">
                        {{sa.dropdownName}}
                    </option>
                </select>
             </td>
             <td class="col-md-2">
                <select class="form-control" disabled>
                    <option *ngFor="let drop of AllSagent"  value="{{drop.AgentID}}" [selected]="lo.Agentshowroomid==drop.AgentID">
                        {{drop.AgentName}}
                    </option>
                </select>
             </td>
             <td class="col-md-2">{{lo.LoanDate|date:"dd/MM/yy  h:mm a"}}</td>
             <td class="col-md-2">{{lo.LoanAmt}}</td>
             <td class="col-md-2">{{lo.LoanSubStatus}}</td>
             </tr>
            
             </tbody>
             </table>
             </div>
             </div>
             <div class="modal fade" id="myModal" role="dialog">
             
          <div class="modal-dialog">
          
            <!-- Modal content-->
            <div class="modal-content" id="modal-content">
              <div class="modal-header">
                <button type="button" id="loanbtn" class="close"  data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Loan Details</h4>
              </div>
              <div class="modal-body">
                       <ul class="nav nav-tabs ">
                  <li class="active" >
                      <a data-toggle="tab" href="#customer">Customer Details</a></li>
                    <li> <a data-toggle="tab" href="#detail">Loan Details</a></li>
                  <li ><a data-toggle="tab" href="#collection">Collection</a></li> 
                 <li ><a data-toggle="tab" href="#followup">Followup</a></li> 
                 <li ><a data-toggle="tab" href="#status">Status</a></li>   
                </ul>
                <div class="tab-content" >
                  <div id="detail" class="tab-pane fade " >  
                      <form #form="ngForm" >
                      <div class="row">
                         
                      <div class=" form-horizontal col-md-5">
                       <div class="form-group">
                     <label class="control-label col-sm-4">Loan Category :</label>
                     <div class="col-sm-8">
                            <select required #LName="ngModel" (change)="OnChange()" class="form-control" [(ngModel)]="loandetail.LoanCatID" name="LoanCatID">
                            <option *ngFor="let sa of LoanCategory" value="{{sa.dropdownKey}}">
                                {{sa.dropdownName}}
                            </option>
                        </select>
                     </div>
                    </div>
                    <div class="form-group">
              <label class="control-label col-sm-4" >Loan No:</label>
                  <div class="col-sm-6">
                  <input type="text" class="form-control" numeric numericType="number" name="LoanNo" [(ngModel)]="loandetail.LoanNo" disabled>
                  </div>
                  </div>
                  <div class="form-group">
                  <label class="control-label col-sm-4" >Loan Method:</label>
                  <div class="col-sm-6">
                  <select class="form-control" name="LoanMethod" [(ngModel)]="loandetail.LoanMethod">
                      <option>New</option>
                      <option>Renewal</option>
                      <option>Additional</option>
                </select>
                  </div>
              </div>
              <div class="form-group">
                  <label class="control-label col-sm-4">Showroom/Agent:</label>
                  <div class="col-sm-8">
                        <select class="form-control" [(ngModel)]="loandetail.Agentshowroomid" name="AgentID">
                                <option *ngFor="let drop of Sagent" value="{{drop.AgentID}}" >
                                    {{drop.AgentName}}
                                </option>
                            </select>
              </div>
              </div>
              <div class="form-group">
                  <label class="control-label col-sm-4">Brand :</label>
                  <div class="col-sm-8">
                    <input type="text" name="brand" class="form-control" [(ngModel)]="loandetail.Label1Val">
                  </div>
              </div>
              <div class="form-group">
                  <label class="control-label col-sm-4">Things :</label>
                  <div class="col-sm-8">
                    <input type="text" name="things" class="form-control" [(ngModel)]="loandetail.Label2Val">
                  </div>
              </div>
              <div class="form-group">
                  <label class="control-label col-sm-4">Regd. No :</label>
                  <div class="col-sm-8">
                      <input type="text" name="regdNo" class="form-control" [(ngModel)]="loandetail.Lable3Val">
                  </div>
              </div>
              <div class="form-group">
                      <label class="control-label col-sm-4">Collection Method :</label>
                      <div class="col-sm-8">
                          <select class="form-control" name="collMethod" [(ngModel)]="loandetail.CollectionMethod">
                              <option>Office</option>
                              <option>Showroom</option>
                              <option>Line</option>
                              <option>Bank Transfer</option>
                              <option>Cheque</option>
                          </select>
                  </div>
              </div>
                  <div class="form-group">
                  <div class="col-sm-4">
                  </div>
                  <div class="col-sm-8">                         
                          <div class="checkbox">
                                <label style="font-weight: 600;"> <input type="checkbox" name="document"  [(ngModel)]="loandetail.AgentResp">Agent Responsibility</label>
                                     </div>
                                     <div class="checkbox">
                               <label style="font-weight: 600;"> <input type="checkbox"  name="document1"  [(ngModel)]="loandetail.Paybybank">Payment By Bank</label> 
                                     </div>
                      </div>
                  
              </div>
              <div class="form-group">
                  <label class="control-label col-sm-4">Security Type :</label>
                  <div class="col-sm-8">
                      <select class="form-control" name="securityType" [(ngModel)]="loandetail.Sectype">
                          <option>Mortgage</option>
                          <option>Endorsement</option>
                          <option>None</option>
                      </select>
                  </div>
              </div>
              <div class="form-group">
                    <label class="control-label col-sm-4">Document :</label>
                    <div class="col-sm-8">
                            <div class="checkbox">
                       <label> <input type="checkbox" name="document3"  [(ngModel)]="loandetail.MortgageDoc">Mortgage Document</label>
                            </div>
                            <div class="checkbox">
                      <label> <input type="checkbox" name="document4"  [(ngModel)]="loandetail.OriginalDoc">Original Document</label> 
                            </div>
                            <div class="checkbox">
                      <label> <input type="checkbox" name="document5"  [(ngModel)]="loandetail.Patta">Patta</label> 
                            </div>
                            <div class="checkbox">
                     <label><input type="checkbox" name="document6"  [(ngModel)]="loandetail.RCBook">RCBook</label> 
                        </div>
                    </div>
                </div>
              
              <div class="form-group">
                  <label class="control-label col-sm-4">No. of Cheque :</label>
                  <div class="col-sm-4">
                      <input type="text" class="form-control" name="chequeNum" [(ngModel)]="loandetail.Noofheque">
                  </div>
                  <div class="col-sm-4">
                      <button type="button" id="loanSave"   (click)="SaveLoan()" class="btn btn-primary">SAVE</button>
                  </div>
              </div>
              </div>
                      <div class=" form-horizontal col-md-7">
                        <div class="form-group">
                            <label class="control-label col-sm-3" >Prod Total Amount :</label>
                            <div class="col-sm-3">
                                <input type="text" class="form-control" numeric numericType="number"  id="ProdTotAmt" name="ProdTotAmt" [(ngModel)]="loandetail.ProdTotAmt" (focusout)="OnChange()">
                            </div>
                                <label class="control-label col-sm-3" >Prod Advance Amount:</label>
                                <div class="col-sm-3 ">
                                <input type="text" class="form-control" numeric numericType="number"  id="ProdAdvAmt" name="ProdAdvAmt" [(ngModel)]="loandetail.ProdAdvAmt" (focusout)="OnChange()">
                                </div>
                            </div>
                      <div class="form-group">
              <label class="control-label col-sm-3" >Loan Date :</label>
              <div class="col-sm-3">
                    <ejs-datepicker name='loanDate' id="loanDate" format ="dd/MM/yyyy" placeholder='Select a date' [(ngModel)]="loandetail.LoanDate" [value]="loandetail.LoanDate" (focusout)="OnDateChange()"></ejs-datepicker>
              </div>
                  <label class="control-label col-sm-3" >Loan Amount:</label>
                  <div class="col-sm-3 ">
                  <input type="text" class="form-control" numeric numericType="number"  id="loanamt" name="loanamt" [(ngModel)]="loandetail.LoanAmt" (focusout)="OnChange()">
                  </div>
              </div>
              <div class="form-group">
              <label class="control-label col-sm-3" >Total Loan Amt:</label>
                  <div class="col-sm-3">
                  <input type="text" class="form-control " numeric numericType="number"  name="TotLoanAmt" name="TotLoanAmt" [(ngModel)]="loandetail.TotLoanAmt" (focusout)="OnChange()">
                  </div>
                
                    <label class="control-label col-sm-3">Interest Type:</label>
                    <div class="col-sm-3">
                        <select class="form-control" name="IntType" id="IntType" [(ngModel)]="loandetail.IntType">
                            <option>Daily</option>
                            <option>Monthly</option>
                        </select>
                    </div>
                
              </div>
              <div class="form-group">
                  <label class="control-label col-sm-3">Doc. Charge :</label>
                  <div class="col-sm-3">
                  <input type="text" id="docCharge" numeric numericType="number"  class="form-control" name="DocCharge" [(ngModel)]="loandetail.DocCharge" (focusout)="OnChange()">
                  </div>
                  <div class="col-sm-6">
                      <select class="form-control" [(ngModel)]="loandetail.DocChargeRecvd" name="DocChargeReceived" (change)="OnChange()">
                          <option value="Received By Finance">Received By Finance</option>
                          <option value="Received By Showroom">Received By Showroom</option>
                          <option value="Add with Loan Amount">Add with Loan Amount</option>
                        </select>
                  </div>
              </div>
              <div class="form-group">
                  <label class="control-label col-sm-3">Incentive Calculated By:</label>
                  <div class="col-sm-3">
                      <select class="form-control" name="IncentiveCalcBy" (change)="OnChange()" [(ngModel)]="loandetail.IncentiveCalBy">
                          <option>Loan Amount</option>
                          <option>Document Charge</option>
                      </select>
                  </div>
                  <label class="control-label col-sm-3">Due Type:</label>
                  <div class="col-sm-3">
                      <select class="form-control" name="DueType"  disabled [(ngModel)]="loandetail.DueType">
                          <option>EMI</option>
                          <option>Interest</option>
                      </select>
                  </div>
              </div>
              <div class="form-group">
                      <label class="control-label col-sm-3">Incentive</label>
                      <div class="col-sm-2" style="padding-left: 0px;"> 
                       <div class="col-md-10">  <input  type="text" class="form-control" numeric numericType="number"  name="incratio" (focusout)="OnChange()" [(ngModel)]="loandetail.IncentiveRatio"> </div>  
                          <div style="float: right;">%</div>                     
                      </div>
                    
                      <div class="col-sm-2">
                          <input type="text" class="form-control" numeric numericType="number"  name="incentive" [(ngModel)]="loandetail.IncentiveAmt" >
                      </div>
                      <div class="col-sm-4">
                          <select class="form-control" name="incentivedrpdwn"  [(ngModel)]="loandetail.IncentiveType" (change)="OnChange()">
                              <option value="Every Loan Incentive">Every Loan Incentive</option>
                              <option value="Monthly Incentive">Monthly Incentive</option>
                          </select>
                      </div>
              </div>
              <div class="form-group">
                  <label class="control-label col-sm-3">Spl. Incentive :</label>
                  <div class="col-sm-4">
                      <input type="text" name="splIncentive" numeric numericType="number"  class="form-control" [(ngModel)]="loandetail.SplIncentiveAmt" (focusout)="OnChange()">
                  </div>
                  <!-- <div class="col-sm-4">
                  <button type="button" class="btn btn-primary" id="splIncentiveValidate">Validate</button>
                  </div> -->
              </div>
              <div class="form-group">
                  <label class="control-label col-sm-3">Scheme</label>
                        <div class="col-sm-1"><input type="checkbox" [(ngModel)]="isscheme" (change)="OnChange()" class="form-check-input marginTop" name="scheme" ></div>  
                  <div class="col-sm-2">
                      <input type="text" id="schemeTxt" name="schemeTxt" class="form-control" [(ngModel)]="loandetail.Scheme">
                  </div>
                  <label class="control-label col-sm-3">Scheme Calc.</label>
                  <div class="col-sm-3">
                      <input type="text" id="schemeCalcTxt" numeric numericType="number"  name="schemeCalcTxt" class="form-control" [(ngModel)]="loandetail.SchemeCalcAmt">
                  </div>
              </div>
              <div class="form-group">
                      <label class="control-label col-sm-3">Scheme Amount :</label>
                      <div class="col-sm-3">
                          <input type="text" id="SchemeAmt" numeric numericType="number"  name="SchemeAmt" class="form-control" [(ngModel)]="loandetail.SchemeAmt" (focusout)="OnChange()">
                      </div>
                      <div class="col-sm-6">
                          <select class="form-control" id="SchemeAmtReceived" name="SchemeAmtReceived"  [(ngModel)]="loandetail.SchemeAmtReceived" (change)="OnChange()">
                              <option selected disabled>Scheme Amt. Received By</option>
                              <option value="Received By Finance">Received By Finance</option>
                              <option value="Received By Showroom">Received By Showroom</option>
                              <option value="Add with Loan Amount">Add with Loan Amount</option>
                          </select>
                      </div>
              </div>
              <div class="form-group">
                    <label class="control-label col-sm-3">Interest Rate :</label>
                    <div class="col-sm-3">
                        <input type="text" numeric numericType="decimal" name="intRate" (focusout)="OnChange()" class="form-control" [(ngModel)]="loandetail.IntRate">
                    </div>
                      <label class="control-label col-sm-3">Installments :</label>
                      <div class="col-sm-3">
                          <input type="text" numeric numericType="number"  name="installment" (focusout)="OnChange()"  class="form-control" [(ngModel)]="loandetail.Instalments">
                      </div>
                  </div>
              <div class="form-group">
                      <label class="control-label col-sm-3">Interest Amount :</label>
                      <div class="col-sm-3">
                          <input type="text" numeric numericType="number"  name="intAmt" id="intAmt" class="form-control" [(ngModel)]="loandetail.InterestAmt">
                      </div>
                      <label class="control-label col-sm-3">Total Amount :</label>
                      <div class="col-sm-3">
                          <input type="text" numeric numericType="number"  name="totAmt" id="totAmt" class="form-control" [(ngModel)]="loandetail.TotAmount">
                      </div>
              </div>
              <div class="form-group">
                      <label class="control-label col-sm-3">First Due Date :</label>
                      <div class="col-sm-3">
                            <ejs-datepicker name='firstDue' id="firstDue" placeholder='Select a date' format ="dd/MM/yyyy" [(ngModel)]="loandetail.FirstDueDt" (focusout)="OnChange()"></ejs-datepicker>
                        
                      </div>
                      <label class="control-label col-sm-3">Installment Amt:</label>
                      <div class="col-sm-3">
                          <input type="text" numeric numericType="number"  id="installmentAmt" name="installmentAmt" class="form-control" [(ngModel)]="loandetail.InstalmentAmt">
                      </div>
                  </div>
              <div class="form-group">
                      <label class="control-label col-sm-3">Last Due Date :</label>
                      <div class="col-sm-3">
                            <ejs-datepicker name='lastDue' placeholder='Select a date' format ="dd/MM/yyyy" [(ngModel)]="loandetail.LastDueDt" ></ejs-datepicker>
                    
                      </div>
                      <label class="control-label col-sm-3">Net Amount :</label>
                      <div class="col-sm-3">
                          <input type="text" numeric numericType="number"  id="netAmt" name="netAmt" class="form-control" [(ngModel)]="loandetail.NetAmt">
                      </div>
                      </div>
              <div class="form-group">
                      <div class="col-sm-12">
                              <input type="checkbox" class="form-check-input" name="roundOff" [(ngModel)]="loandetail.RoundedOff" (change)="OnChange()">
                              <label class="form-check-label" for="roundOff" >Round Off Due Amt by Rs.5</label>
                          </div>
              </div>
                      </div>
                      </div>
                      </form>
                  </div>
                   <div id="collection" class="tab-pane fade" > 
                      <form #form1="ngForm" >
                      <div class="row">
                      <div class=" form-horizontal col-md-4">
                      <div class="form-group">
                        <label class="control-label col-sm-5" >Loan No:</label>
                        <div class="col-sm-7 ">
                        <input type="text" class="form-control col-sm-3" numeric numericType="number" name="LoanNo" [(ngModel)]="loandetail.LoanNo" disabled>
                     </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-5">Entry Date:</label>
                          <div class="col-sm-7">
                                <ejs-datepicker name='entryDate' placeholder='Select a date' format ="dd/MM/yyyy" [(ngModel)]="collection.Date" (focusout)="DateChange()" ></ejs-datepicker>
                                <div *ngIf=" formSubmit" [ngClass]="'error'">
                                Date should not be greater than today.
                            </div>
                            </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-5">Bill Book:</label>
                          <div class="col-sm-5">
                            <input type="text" class="form-control" name="bill" [(ngModel)]="collection.BillBook"> 
                              </div>
                              <div class="col-sm-2">
                                  <button type="button" class="form-control btn btn-primary ">+</button>
                              </div>
                      </div>
                      <div class="form-group">
                              <label class="control-label col-sm-5">Due/Interest Receipt:</label>
                              <div class="col-sm-7">
                                      <input type="text" numeric numericType="number"   class="form-control" (focusout)="CollectionCal()" name="dueReceipt" [(ngModel)]="collection.Duereciept">
                                  </div>
                          </div>
                          <div class="form-group">
                                  <label class="control-label col-sm-5">Penalty Receipt:</label>
                                  <div class="col-sm-7">
                                          <input type="text" numeric numericType="number" numericType="decimal"  class="form-control" (focusout)="CollectionCal()" name="penReceipt"  [(ngModel)]="collection.Penaltyreciept">
                                      </div>
                              </div>
                             
                      </div>
                      <div class=" form-horizontal col-md-4">
                      <div class="form-group">
                       <label class="control-label col-sm-5" >Principal Receipt:</label>
                       <div class="col-sm-7">
                     <input type="text" class="form-control" numeric numericType="number"   [disabled]="DueType=='EMI'" (focusout)="CollectionCal()" name="principleAmt" [(ngModel)]="collection.Principalreciept">
                      </div>
                      </div>
                     
                      <div class="form-group">
                          <label class="control-label col-sm-5">Penalty Balance:</label>
                          <div class="col-sm-7">
                              <input type="text" class="form-control" numeric numericType="number"   (focusout)="CollectionCal()" name="penAmount" [(ngModel)]="collection.penaltyBal">
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-5">Due/Interest Balance:</label>
                          <div class="col-sm-7">
                              <input type="text" class="form-control" numeric numericType="number"   (focusout)="CollectionCal()" name="dueBal" [(ngModel)]="collection.dueBal">
                          </div>
                      </div>
                      <div class="form-group">
                              <label class="control-label col-sm-5">Total Balance:</label>
                              <div class="col-sm-7">
                                  <input type="text" class="form-control" numeric numericType="number"   (focusout)="CollectionCal()" name="totalBal" [(ngModel)]="collection.TotalBal">
                              </div>
                          </div>
                      </div>
     
                      <div class="row">
                          <div class="col-md-12">
                              <div class="col-md-4"></div>
                              <div class="col-md-3">
                                    <div class="form-group">
                                            <div class="text-right col-sm-6" *ngIf = "collectionPermission">
                                              <button type="button" class="btn btn-primary" id="addEntry" (click)="AddEntry(form1)" >ADD</button>
                                          </div>
                                         
                                          </div>
                              </div>
                          </div>
                      </div>
                      <div class="form-horizontal col-md-12 tab-content">
                              <div class="table table-responsive">
                                  <table class="table table-bordered table-striped table-hover" id="collectionTbl">
                                  <thead>
                                      <tr>
                                      <th class="col-md-1">S.No</th>
                                       <th class="col-md-1">Date</th>
                                       <th class="col-md-1">Due No</th>
                                       <th class="col-md-1">Due/Int Amt.</th>
                                       <th class="col-md-1">Principal Receipt</th>
                                       <th class="col-md-1">Due/Int Receipt</th>
                                       <th class="col-md-1">Due Bal</th>
                                       <th class="col-md-1">Penalty Amount</th>
                                       <th class="col-md-1">Penalty Receipt</th>
                                      <th class="col-md-1">Penalty Balance</th>                                     
                                      <th class="col-md-1">Total Bal</th>
                                      <th class="col-md-1"></th>
                                      </tr>
                                  </thead>
                                      <tbody>
                                          <tr *ngFor="let i of AllCollection">
                                          <td>{{i.SNO}}</td>
                                          <td>{{i.Date|date:"dd/MM/y"}}</td>
                                          <td>{{i.DueNo}}</td>
                                          <td>{{i.DueAmt}}</td>
                                          <td>{{i.Principalreciept}}</td>
                                          <td>{{i.Duereciept}}</td>
                                          <td>{{i.dueBal}}</td>                                       
                                          <td>{{i.PenaltyAmount}}</td>
                                          <td>{{i.Penaltyreciept}}</td>
                                          <td>{{i.penaltyBal}}</td>
                                          <td>{{i.TotalBal}}</td>
                                          <td>
                                            
                                                  <div class="col-sm-6">
                                                    <button type="button" *ngIf ="collectionPermission" (click)="removeCollection(i.EMIID)" class="btncollection btn btn-primary glyphicon glyphicon-remove"></button>
                                                  </div>
                                                  <div class="col-sm-6">
                                                        <button type="button" (click)="print(i)" class=" btncollection btn btn-primary glyphicon glyphicon-print"></button>
                                                      </div>   
                                          </td>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
  
                      </div>
                      </div>
                      </form>	
                      </div>			 
                  
                   <div id="followup" class="tab-pane fade" >
                      <form #form2="ngForm">
                      <div class="row">
                      <div class=" form-horizontal col-md-6">
                      <div class="form-group">
                          <label class="control-label col-sm-4">Followup Date :</label>
                          <div class="col-sm-4">
                                <ejs-datepicker id='datepicker1' disabled placeholder='Select a date' format ="dd/MM/yyyy" name="followupDate" [(ngModel)]="followup.FollowupDate" ></ejs-datepicker>
                          </div>
                      </div>
                      <div class="form-group">
                          <label class="control-label col-sm-4">Commitment Date:</label>
                          <div class="col-sm-4">
                                <ejs-datepicker id='datepicker2' placeholder='Select a date' format ="dd/MM/yyyy" name="CommitmentDt" [(ngModel)]="followup.CommitmentDate"></ejs-datepicker>
                          </div>
                      </div>
                      <div class="form-group">
                            <label class="control-label col-sm-4">Followup Status :</label>
                            <div class="col-sm-6">
                                <select class="form-control" name="followupStat" [(ngModel)]="followup.FollowupStatus">
                                    <option value = "Current">Current</option>
                                    <option value="Recovery">Recovery</option>
                                    <option value="Pending">Pending</option>
                                    <option value="OD">OD</option>
                                    <option value="Error">Error</option>
                                    <option value="legal">Legal</option>
                                </select>
                            </div>
                        </div>
                      </div>
                      <div class="form-horizontal col-md-6">
                              <div class="form-group">
                                      <label class="control-label col-sm-4">Remarks :</label>
                                      <div class="col-sm-6">
                                          <input class="form-control" type="text" name="remarks" [(ngModel)]="followup.Remarks">
                                      </div>
                                  </div>
                          <div class="form-group">
                              <label class="control-label col-sm-4">Attended By :</label>
                              <div class="col-sm-6">
                                  <input type="text" class="form-control" id="attended" disabled>
                              </div>
                          </div>
                          
                      </div>
                      <div class="row">
                          <div class="form-horizontal col-md-12">
                              <div class="col-md-4"></div>
                              <div class="col-md-4">
                              <div class="form-group">
                                    <div class="col-sm-4">
                                        <button type="button" class="form-control btn btn-primary" (click)="AddFollowup(form2)">Add</button>
                                        </div>
                                </div>
                            </div>
                          </div>
                      </div>
                      <div class="form-horizontal col-md-12">
                              <div class="table table-responsive">
                                      <table class="table table-bordered table-striped table-hover" id="followupTable">
                                      <thead>
                                      <tr>
                                      <th class="col-md-1">S.No</th>
                                       <th class="col-md-1">Followup Dt</th>
                                       <th class="col-md-1">Commitment Dt</th>
                                       <th class="col-md-1">Remark</th>
                                       <th class="col-md-1">Attended By</th>
                                       <th class="col-md-1">Received</th>
                                      <th class="col-md-1">Due Balance</th>
                                      <th class="col-md-1">Status</th>
                                      <th class="col-md-1"></th>
                                      </tr>
                                      </thead>
                                      <tbody>
                                          <tr *ngFor="let f of FollowupDetails">
                                            <td class="col-md-1">{{f.SNo}}</td>
                                            <td class="col-md-1">{{f.FollowupDate|date:"dd/MM/y"}}</td>
                                            <td class="col-md-1">{{f.CommitmentDate|date:"dd/MM/y"}}</td>
                                            <td class="col-md-1">{{f.Remarks}}</td>
                                            <td class="col-md-1">{{f.AttendedBy}}</td>
                                            <td class="col-md-1">0</td>
                                           <td class="col-md-1">0</td>
                                           <td class="col-md-1">{{f.FollowupStatus}}</td>
                                           <td>
                                         <div class="col-sm-3">
                                            <button type="button" (click) = "DeleteFollowup(f.FollowupId)" class="btn btn-primary glyphicon glyphicon-remove"></button>
                                          </div>
                                        </td>
                                        </tr>
                                          </tbody>
                                          </table>
                                          </div>
                      </div>
                      </div>
                      </form>				 
                  </div>
                   <div id="status" class="tab-pane fade" >  
                      <form  #form3="ngForm" >
                      <div class="row">
                      <div class=" form-horizontal col-md-5">
                            <div class="form-group">
                                    <label class="control-label col-sm-5">Status :</label>
                                    <div class="col-sm-6">
                                    <select class="form-control" name="loanIssueStatus" [(ngModel)]="loanStat.LoanClosed">
                                        <option value="0">Running</option>
                                        <option value="1">Closed</option>
                                        <option value="2">End</option>
                                        
                                    </select>
                                  </div>
                                </div>
                          <div class="form-group">
                              <label class="control-label col-sm-5">Loan Status :</label>
                              <div class="col-sm-6">
                                  <select class="form-control" name="loanStatus" [(ngModel)]="loanStat.LoanStatus" (change)="changeLoanStatus($event.target.value)">
                                     <option *ngIf="loanStat.LoanClosed=='0'" value="Current">Current</option>
                                      <option *ngIf="loanStat.LoanClosed=='1'" value="Consider">Consider</option>
                                      <option *ngIf="loanStat.LoanClosed=='0'" value="Pending">Pending</option>
                                      <option *ngIf="loanStat.LoanClosed=='0'" value="Error">Error</option>
                                      <option *ngIf="loanStat.LoanClosed=='0'" value="Recovery">Recovery</option>
                                      <option *ngIf="loanStat.LoanClosed=='0'"  value="OD">OD</option>
                                      <option *ngIf="loanStat.LoanClosed=='0'" value="Legal">Legal</option>
                                      <option *ngIf="loanStat.LoanClosed=='1'" value="Checklist">Checklist</option>
                                      <option *ngIf="loanStat.LoanClosed=='1'" value="Blacklist">Blacklist</option>
                                      </select>
                              </div>
                          </div>
                          <div class="form-group">
                              <label class="control-label col-sm-5">Remarks :</label>
                              <div class="col-sm-6">
                                  <input type="text" class="form-control" name="remarks" [(ngModel)]="loanStat.LoanRemarks">
                              </div>
                          </div>
                          <div class="form-group">
                              <label class="control-label col-sm-5">Repayment :</label>
                              <div class="col-sm-6">
                                  <select class="form-control" name="repayment"[(ngModel)]="loanStat.Repayment">
                                      <option>Best</option>
                                      <option>Good</option>
                                      <option>Normal</option>
                                      <option>Bad</option>
                                      <option>Worst</option>
                                  </select>
                              </div>
                          </div>
                       
                      </div>
                      <div class=" form-horizontal col-md-5">
                            <div class="form-group">
                                    <label class="control-label col-sm-5">Customer Attitude :</label>
                                    <div class="col-sm-6">
                                        <select class="form-control" name="attitude" [(ngModel)]="loanStat.Attitude">
                                            <option>Best</option>
                                            <option>Good</option>
                                            <option>Normal</option>
                                            <option>Bad</option>
                                            <option>Worst</option>
                                        </select>
                                    </div>
                                </div>
                              <div class="form-group" id="consider" style="display: none;">
                                      <label class="control-label col-sm-5">Spl.Status</label>							
                                      <div class="col-sm-6">
                                          <select class="form-control" name="consider" [(ngModel)]="loanStat.LoanSubStatus">
                                              <option>Platinum</option>
                                              <option>Diamond</option>
                                              <option>Gold</option>
                                              <option>Silver</option>
                                              <option>Brass</option>
                                          </select>
                                      </div>
                                  </div>
                                  <div class="form-group">
                                      <label class="control-label col-sm-5">N.O.C. Remarks:</label>
                                      <div class="col-sm-6">
                                          <textarea name="noc" class="form-control"rows="6" cols="50" [(ngModel)]="loanStat.NocRemarks"></textarea>
                                      </div>
                                  </div>
                                 
                                 
                      </div>
                      </div>
                      <div class="row">
                          <div class="form-horizontal col-md-12">
                              <div class="col-md-5"></div>
                              <div class="col-md-2">
                                    <div class="form-group">
                                            <div class="col-sm-6">
                                            <button class = "btn btn-primary form-control" type="button" id="update" (click)="AddLoanStatus(form3)">Update</button>
                                            </div>
                                        </div>
                              </div>
                          </div>
                      </div>
                      </form>
                  </div>		
             
                  <div id="customer" class="tab-pane fade in active ">
                      <form>
                          <div class="row">
                                <div class=" form-horizontal col-md-12">
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" >Branch :</label>
                                                <div class="col-sm-3">
                                                        <select class="form-control"   name="BranchID" (change)="filterdrop('')"  [(ngModel)]="loandetail.BranchID" >
                                                                <option *ngFor="let l of branch" value="{{l.BranchID}}">{{l.BranchName}}
                                                                 </option>                         
                                                                </select>
                                                </div>
                                                <label class="control-label col-sm-1" >Line :</label>
                                                <div class="col-sm-3">
                                                        <select class="form-control"  #lid="ngModel" [(ngModel)]="loandetail.LineID" (change)="filterdrop('')" name="LineID" >
                                                                <option *ngFor="let i of Line" value="{{i.TalukID}}">{{i.TalukName}}
                                                                 </option>                         
                                                                </select>
                                                </div>
                                            </div><div class="form-group">
                                            <label class="control-label col-sm-3" >Area :</label>
                                                <div class="col-sm-3">
                                                        <select class="form-control" #aid="ngModel" [(ngModel)]="loandetail.AreaID" (change)="filterdrop('')" name="AreaID" >
                                                                <option  *ngFor="let sa of Area" value="{{sa.AreaID}}">{{sa.AreaName}}
                                                                 </option>                         
                                                                </select>
                                                </div>
                                                <label class="control-label col-sm-1" >Sub Area :</label>
                                                <div class="col-sm-3">
                                                        <select class="form-control"  #sid="ngModel" [(ngModel)]="loandetail.SubAreaID" (change)="filterdrop('SArea')" name="SubAreaID" >
                                                                <option *ngFor="let l of Sarea" value="{{l.TalukID}}">{{l.TalukName}}
                                                                 </option>                         
                                                                </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                            <label class="control-label col-sm-3" >Hint-1 :</label>
                                                <div class="col-sm-3">
                                                <input type="text" class="form-control col-sm-4" name="hint1" [(ngModel)]="loandetail.Hint1" >
                                                </div>
                                                <label class="control-label col-sm-1" >Hint-2 :</label>
                                                <div class="col-sm-3">
                                                <input type="text" class="form-control" name="hint2" [(ngModel)]="loandetail.Hint2" >
                                                </div>
                                            </div>
                                        </div>
                            <div class="form-horizontal col-md-6">
                                    <div class="form-group">
                                            <label class="control-label col-sm-3">Customer ID :</label>
                                            <div class="col-sm-3">
                                                <input type="text" class="form-control" name="customerId" [(ngModel)]="loandetail.CustomerID">
                                            </div>
                                    </div>
                                    <div class="form-group">
                                    <label class="control-label col-sm-3" >Customer Name :</label>
                                        <div class="col-sm-6">
                                        <input type="text" class="form-control col-sm-4" name="custName" [(ngModel)]="loandetail.CustName">
                                        </div>
                                        <label class="control-label col-sm-1" >Init:</label>
                                        <div class="col-sm-2 ">
                                        <input type="text" class="form-control" name="init" [(ngModel)]="loandetail.Initial">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                    <label class="control-label col-sm-3" >Father Name :</label>
                                        <div class="col-sm-9 ">
                                        <input type="text" class="form-control" name="fatherName" [(ngModel)]="loandetail.FatherName">
                                        </div>
                                        
                                    </div>
                                    <div class="form-group">
                                    <label class="control-label col-sm-3" >Mother Name :</label>
                                        <div class="col-sm-9 ">
                                        <input type="text" class="form-control" name="motherName" [(ngModel)]="loandetail.MotherName">
                                        </div>		
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Gender :</label>
                                        <div class="col-sm-3">
                                                <select class="form-control" name="gender" [(ngModel)]="loandetail.Gender">
                                                    <option>Male</option>
                                                    <option>Female</option>
                                                </select>
                                            </div>
                                        <label class="control-label col-sm-3">Marital Status :</label>
                                        <div class="col-sm-3">
                                                <select class="form-control" name="maritalStatus" [(ngModel)]="loandetail.MaritalStatus">
                                                        <option>Married</option>
                                                        <option>Single</option>
                                                        <option>Other</option>
                                                </select>
                                            </div>
                                    </div>
                                    <div class="form-group">
                                            <label class="control-label col-sm-3">Spouse Name :</label>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control" name="spouseName" [(ngModel)]="loandetail.SpouseName">
                                            </div>
                                        </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Resident Type:</label>
                                        <div class="col-sm-6">
                                                <select class="form-control" name="residentType" [(ngModel)]="loandetail.ResidentType">
                                                    <option>Own</option>
                                                      <option>Rental</option>
                                                      <option>Agreement</option>
                                                      <option>Quarters</option>
                                                </select>
                                            </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Communication Address :</label>
                                        <div class="col-sm-9">
                                            <textarea class="form-control" name="address" [(ngModel)]="loandetail.CommAddress"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                            <label class="control-label col-sm-3">Permanent Address:</label>
                                            <div class="col-sm-9">
                                                <textarea class="form-control" name="permanentAddr" [(ngModel)]="loandetail.PermAddress"></textarea>
                                            </div>
                                        </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Contact No. :</label>
                                        <div class="col-sm-5">
                                            <input type="text" class="form-control" maxlength="11" minlength="11" name="contactNum1" [(ngModel)]="loandetail.CustContact1">
                                        </div>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" maxlength="11" minlength="11" name="contactNum2" [(ngModel)]="loandetail.CustContact2">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Occupation Type :</label>
                                        <div class="col-sm-3">
                                            <select class="form-control" name="occType" [(ngModel)]="loandetail.OccupationType">
                                                <option>Business</option>
                                                  <option>Salaried-Govt</option>
                                                  <option>Salaried-Private</option>
                                                  <option>Dialywages</option>
                                                  <option>Others</option>
                                            </select>
                                        </div>
                                        <label class="control-label col-sm-3">Occupation Detail :</label>
                                        <div class="col-sm-3">
                                            <input class="form-control" type="text" name="occDetail" [(ngModel)]="loandetail.OccupationDetail">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Aadhar :</label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" name="aadhar" [(ngModel)]="loandetail.CustAadhar">
                                        </div>
                                        <div class="col-sm-3">
                                            <button type="button" class="form-control btn btn-primary" data-toggle="modal" data-target="#ECustProof" >ID Proof </button>
                                            </div>
                                    </div>
                                        </div>
                            <div class="form-horizontal col-md-6">
                                <div class="form-group">
                                    <label class="control-label col-sm-3">Guarantor Name :</label>
                                    <div class="col-sm-7">
                                        <input class="form-control" type="text" name="guarantorName" [(ngModel)]="loandetail.GuarantorName">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-3">Relationship :</label>
                                    <div class="col-sm-3">
                                        <select class="form-control" name="relation" [(ngModel)]="loandetail.Relationship">
                                            <option>Father</option>
                                                            <option>Mother</option>
                                                            <option>Son</option>
                                                            <option>Daughter</option>
                                                            <option>Husband</option>
                                                            <option>Wife</option>
                                                            <option>Brother</option>
                                                            <option>Sister</option>
                                                            <option>Friend</option>
                                                            <option>Uncle</option>
                                                            <option>Aunty</option>
                                                            <option>Brother in Law</option>
                                                            <option>Sister in Law</option>
                                                            <option>Son in Law</option>
                                                            <option>Daughter in Law</option>
                                                            <option>Father in Law</option>
                                                            <option>Mother in Law</option>
                                                            <option>Cousin</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-3">Resident Type:</label>
                                    <div class="col-sm-7">
                                    <select class="form-control" name="guarantorResType" [(ngModel)]="loandetail.GResidentType">
                                        <option>Own</option>
                                                      <option>Rental</option>
                                                      <option>Agreement</option>
                                                      <option>Quarters</option>
                                    </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                        <label class="control-label col-sm-3">Communication Address :</label>
                                        <div class="col-sm-7">
                                            <textarea class="form-control" name="gaddress" [(ngModel)]="loandetail.GAddress"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                            <label class="control-label col-sm-3">Permanent Address:</label>
                                            <div class="col-sm-7">
                                                <textarea class="form-control" name="gpermanentAddr" [(ngModel)]="loandetail.GPermAddress"></textarea>
                                            </div>
                                        </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Contact No. :</label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" maxlength="11" minlength="11" name="gcontactNum1" [(ngModel)]="loandetail.GContactNum1">
                                        </div>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-control" maxlength="11" minlength="11" name="gcontactNum2" [(ngModel)]="loandetail.GContactNum2">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Aadhar :</label>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" name="Gaadhar" [(ngModel)]="loandetail.GAadhar"> 
                                        </div>
                                        <div class="col-sm-3">
                                            <button type="button" class="form-control btn btn-primary" data-toggle="modal" data-target="#EGuarnProof" >ID Proof </button>
                                            </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Customer Status :</label>
                                        <div class="col-sm-4">
                                            <select class="form-control" name="custStatus" disabled [(ngModel)]="loandetail.CustStatus">
                                                <option >Request</option>
                                                <option>Approved</option>        
                                                 <option>Cancel</option>
                                                 <option>Waitlist</option>
                                                 <option>Revoked</option>
                                                 <option>Running</option>
                                                 <option>End</option>
                                                 <option>Closed</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-sm-3">Remarks :</label>
                                        <div class="col-sm-7">
                                            <textarea name="remarks" class="form-control"rows="4" cols="30" [(ngModel)]="loandetail.CustRemarks"></textarea>
                                        </div>
                                    </div>
                                 </div>
                                </div>
                      </form>
                  </div>
            </div>
            
          </div>
        </div>
      </div>
        </div>
            <div id="CustProof" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Customer ID Proof</h4>
        </div>
        <div class="modal-body">
        <div class="form-horizontal col-md-12">
          <!-- <div class="form-group">
              <label class="control-label col-sm-2" >Proof Type :</label>
              <div class="col-sm-2">
                <select class="form-control" name="proof1" [(ngModel)]="proof1"><option>AADHAR</option><option>FAMILY CARD</option><option>VOTER ID</option><option>PAN CARD</option><option>DRIVING LICENSE</option></select>
                </div>
                <div class="col-sm-2">
                      <input type="text" name="proofNumber1" class="form-control" [(ngModel)]="proofNumber1">
                  </div>
                <div class="col-sm-3">
                <input type="file" name="file1" class="form-control" (change)="onFileChanged1($event)">
                
                </div>
                <div class="col-sm-1">
                <button type="submit" class="form-control btn btn-primary" (click)="SaveFile('Customer')">Save</button>
                
                </div>
              </div> -->
              </div>
              
             <div class="table table-responsive custproof" >
             <table class="table table-bordered table-striped table-hover">
             <thead>
                    <tr>
                            <th class="col-md-2">S.No</th>
                             <th class="col-md-2">Proof Type</th>
                             <th class="col-md-3">ID</th>
                             <th class="col-md-3">Proof</th>
                             
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let r of CustProof">
                            <td class="col-md-2">{{r.ID}}</td>
                            <td class="col-md-2">{{r.ProofType}}</td>
                            <td class="col-md-3">{{r.ProofNumber}}</td>
                            <td class="col-md-3"><a (click)="OpenFile(r.File)">{{r.File}}</a></td>
                          
                            </tr>
  
             </tbody>
             </table>
             </div>
      
        
      </div>
  
    </div>
  </div>
      
  </div>
  
              <div id="GuarnProof" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Guarantor ID Proof </h4>
        </div>
        <div class="modal-body">
          <!-- <div class="form-horizontal col-md-12">
          <div class="form-group">
              <label class="control-label col-sm-2" >Proof Type :</label>
                  <div class="col-sm-2">
                  <select class="form-control" name="proof" [(ngModel)]="proof"><option>AADHAR</option><option>FAMILY CARD</option><option>VOTER ID</option><option>PAN CARD</option><option>DRIVING LICENSE</option></select>
                  </div>
                  <div class="col-sm-2">
                        <input type="text" name="proofNumber" class="form-control" [(ngModel)]="proofNumber">
                    </div>
                  <div class="col-sm-3">
                  <input type="file" name="file" class="form-control" (change)="onFileChanged($event)">
                  
                  </div>
                  <div class="col-sm-1">
                  <button type="submit" class="form-control btn btn-primary" (click)="SaveFile('Guarantor')">Save</button>
                  
                  </div>
              </div>
              </div>
               -->
             <div class="table table-responsive custproof" >
             <table class="table table-bordered table-striped table-hover">
             <thead>
             <tr>
             <th class="col-md-2">S.No</th>
              <th class="col-md-2">Proof Type</th>
              <th class="col-md-3">ID</th>
              <th class="col-md-3">Proof</th>
             
             </tr>
             </thead>
             <tbody>
                <tr *ngFor="let r of GuaranProof">
                    <td class="col-md-2">{{r.ID}}</td>
                    <td class="col-md-2">{{r.ProofType}}</td>
                    <td class="col-md-3">{{r.ProofNumber}}</td>
                    <td class="col-md-3"><a (click)="OpenFile(r.File)">{{r.File}}</a></td>
           
             </tr>
  
             </tbody>
             </table>
             </div>
      
        
      </div>
  
    </div>
  </div>
  </div>

  <div id="ECustProof" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Customer ID Proof</h4>
        </div>
        <div class="modal-body">
        <div class="form-horizontal col-md-12">
          <div class="form-group">
              <label class="control-label col-sm-2" >Proof Type :</label>
              <div class="col-sm-2">
                <select class="form-control" name="proof1" [(ngModel)]="proof1"><option>AADHAR</option><option>FAMILY CARD</option><option>VOTER ID</option><option>PAN CARD</option><option>DRIVING LICENSE</option></select>
                </div>
                <div class="col-sm-2">
                      <input type="text" name="proofNumber1" class="form-control" [(ngModel)]="proofNumber1">
                  </div>
                <div class="col-sm-3">
                <input type="file" name="file1" id="file1" class="form-control" (change)="onFileChanged1($event)">
                
                </div>
                <div class="col-sm-1">
                <button type="submit" class="form-control btn btn-primary" (click)="SaveFile('Customer')">Save</button>
                
                </div>
              </div>
              </div>
              
             <div class="table table-responsive custproof" >
             <table class="table table-bordered table-striped table-hover">
             <thead>
                    <tr>
                            <th class="col-md-2">S.No</th>
                             <th class="col-md-2">Proof Type</th>
                             <th class="col-md-3">ID</th>
                             <th class="col-md-3">Proof</th>
                             <th class="col-md-2"></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let r of ECustProof">
                            <td class="col-md-2">{{r.ID}}</td>
                            <td class="col-md-2">{{r.ProofType}}</td>
                            <td class="col-md-3">{{r.ProofNumber}}</td>
                            <td class="col-md-3"><a (click)="OpenFile(r.File)">{{r.File}}</a></td>
                           <th class="col-md-2">
                                   <button type="button" class="btn btn-primary" (click)="DeleteProof(r.ProofType,'Customer')">Delete</button>
                           </th>
                            </tr>
  
             </tbody>
             </table>
             </div>
      
        
      </div>
  
    </div>
  </div>
      
  </div>
  
              <div id="EGuarnProof" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Guarantor ID Proof </h4>
        </div>
        <div class="modal-body">
          <div class="form-horizontal col-md-12">
          <div class="form-group">
              <label class="control-label col-sm-2" >Proof Type :</label>
                  <div class="col-sm-2">
                  <select class="form-control" name="proof" [(ngModel)]="proof"><option>AADHAR</option><option>FAMILY CARD</option><option>VOTER ID</option><option>PAN CARD</option><option>DRIVING LICENSE</option></select>
                  </div>
                  <div class="col-sm-2">
                        <input type="text" name="proofNumber" class="form-control" [(ngModel)]="proofNumber">
                    </div>
                  <div class="col-sm-3">
                  <input type="file" name="file" id='file' class="form-control" (change)="onFileChanged($event)">
                  
                  </div>
                  <div class="col-sm-1">
                  <button type="submit" class="form-control btn btn-primary" (click)="SaveFile('Guarantor')">Save</button>
                  
                  </div>
              </div>
              </div>
              
             <div class="table table-responsive custproof" >
             <table class="table table-bordered table-striped table-hover">
             <thead>
             <tr>
             <th class="col-md-2">S.No</th>
              <th class="col-md-2">Proof Type</th>
              <th class="col-md-3">ID</th>
              <th class="col-md-3">Proof</th>
              <th class="col-md-2"></th>
             </tr>
             </thead>
             <tbody>
                <tr *ngFor="let r of EGuaranProof">
                    <td class="col-md-2">{{r.ID}}</td>
                    <td class="col-md-2">{{r.ProofType}}</td>
                    <td class="col-md-3">{{r.ProofNumber}}</td>
                    <td class="col-md-3"><a (click)="OpenFile(r.File)">{{r.File}}</a></td>
            <th class="col-md-2">
                    <button type="button" class="btn btn-primary" (click)="DeleteProof(r.ProofType,'Guarantor')">Delete</button>
            </th>
             </tr>
  
             </tbody>
             </table>
             </div>
      
        
      </div>
  
    </div>
  </div>
  </div>
             </div>
           
              </div>
              </div>
              
              
              </div>
              
